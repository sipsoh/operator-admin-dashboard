<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Operator Workflow - Tracking Dashboard</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <!-- Top Navigation -->
    <header class="navbar navbar-expand-lg navbar-light bg-card border-bottom sticky-top shadow-sm">
        <div class="container-fluid px-4">
            <div class="d-flex align-items-center">
                <div class="d-flex align-items-center me-4">
                    <div class="logo-container bg-primary rounded d-flex align-items-center justify-content-center me-3">
                        <span class="text-white fw-bold">OW</span>
                    </div>
                    <div>
                        <h1 class="h5 mb-0 fw-bold text-foreground">Operator Workflow</h1>
                        <p class="small text-muted mb-0">Tracking Dashboard</p>
                    </div>
                </div>
            </div>
            
            <div class="d-flex align-items-center gap-3">
                <div class="position-relative">
                    <i class="bi bi-search position-absolute top-50 start-0 translate-middle-y ms-3 text-muted"></i>
                    <input type="text" class="form-control ps-5" style="width: 320px;" placeholder="Search submissions, operators...">
                </div>
                
                <button class="btn btn-outline-secondary btn-sm">
                    <i class="bi bi-download me-2"></i>Export
                </button>
                
                <button class="btn btn-primary btn-sm">
                    <i class="bi bi-plus me-2"></i>New Entry
                </button>
                
                <div class="d-flex align-items-center gap-2">
                    <button class="btn btn-ghost btn-sm position-relative">
                        <i class="bi bi-bell"></i>
                        <span class="badge bg-danger position-absolute top-0 start-100 translate-middle rounded-pill">3</span>
                    </button>
                    <button class="btn btn-ghost btn-sm">
                        <i class="bi bi-gear"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container-fluid p-4">
        <!-- Dashboard Statistics -->
        <div id="dashboard-stats" class="row g-4 mb-5">
            <!-- Stats will be populated by JavaScript -->
        </div>

        <!-- Submission Table -->
        <div class="card shadow-sm">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Submissions</h5>
                <div class="d-flex gap-3">
                    <select id="reportTypeFilter" class="form-select form-select-sm" style="width: auto;">
                        <option value="all">All Report Types</option>
                        <option value="monthly-financial">Monthly Financial</option>
                        <option value="rent-schedule">Rent Schedule</option>
                        <option value="lease-agreement">Lease Agreement</option>
                        <option value="quarterly-review">Quarterly Review</option>
                        <option value="insurance-documents">Insurance Documents</option>
                        <option value="compliance-report">Compliance Report</option>
                    </select>
                    <select id="dateRangeFilter" class="form-select form-select-sm" style="width: auto;">
                        <option value="all">All Time</option>
                        <option value="today">Today</option>
                        <option value="week">This Week</option>
                        <option value="month" selected>This Month</option>
                        <option value="quarter">This Quarter</option>
                        <option value="year">This Year</option>
                    </select>
                </div>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover mb-0" id="submissionTable">
                        <thead class="table-light">
                            <tr style="padding-top: 1rem;">
                                <th class="sortable pt-4" data-column="operator">
                                    <div class="d-flex align-items-center">
                                        Operator
                                        <i class="bi bi-chevron-expand ms-2 sort-icon"></i>
                                    </div>
                                </th>
                                <th class="sortable pt-4" data-column="category">
                                    <div class="d-flex align-items-center">
                                        Category
                                        <i class="bi bi-chevron-expand ms-2 sort-icon"></i>
                                    </div>
                                </th>
                                <th class="sortable pt-4" data-column="reportType">
                                    <div class="d-flex align-items-center">
                                        Report Type
                                        <i class="bi bi-chevron-expand ms-2 sort-icon"></i>
                                    </div>
                                </th>
                                <th class="sortable pt-4" data-column="dueDate">
                                    <div class="d-flex align-items-center">
                                        Due Date
                                        <i class="bi bi-chevron-expand ms-2 sort-icon"></i>
                                    </div>
                                </th>
                                <th class="sortable pt-4" data-column="status">
                                    <div class="d-flex align-items-center">
                                        Status
                                        <i class="bi bi-chevron-expand ms-2 sort-icon"></i>
                                    </div>
                                </th>
                                <th class="pt-4">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="submissionTableBody">
                            <!-- Table rows will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <!-- View Details Modal -->
    <div class="modal fade" id="viewDetailsModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Submission Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="viewDetailsContent">
                    <!-- Content will be populated by JavaScript -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Edit Submission</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Status Modal -->
    <div class="modal fade" id="editStatusModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Update Status</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="editStatusForm">
                        <div class="mb-3">
                            <label class="form-label">Current Status</label>
                            <div id="currentStatusDisplay" class="mb-3"></div>
                        </div>
                        <div class="mb-3">
                            <label for="newStatus" class="form-label">New Status *</label>
                            <select class="form-select" id="newStatus" required>
                                <option value="">Select new status</option>
                                <option value="approved">Approved</option>
                                <option value="pending">Pending</option>
                                <option value="non-compliant">Non-Compliant</option>
                                <option value="overdue">Overdue</option>
                                <option value="in-review">In Review</option>
                                <option value="submitted">Submitted</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="statusReason" class="form-label">Reason for Change *</label>
                            <textarea class="form-control" id="statusReason" rows="3" placeholder="Please provide a reason for this status change..." required></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="updateStatusBtn">Update Status</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Comment Modal -->
    <div class="modal fade" id="addCommentModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add Comment</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addCommentForm">
                        <div class="mb-3">
                            <label class="form-label">Operator</label>
                            <div id="commentOperatorDisplay" class="text-muted"></div>
                        </div>
                        <div class="mb-3">
                            <label for="commentType" class="form-label">Comment Type *</label>
                            <select class="form-select" id="commentType" required>
                                <option value="">Select comment type</option>
                                <option value="general">General</option>
                                <option value="review">Review</option>
                                <option value="approval">Approval</option>
                                <option value="compliance">Compliance</option>
                                <option value="follow-up">Follow-up</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="commentText" class="form-label">Comment *</label>
                            <textarea class="form-control" id="commentText" rows="4" placeholder="Enter your comment here..." required></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="addCommentBtn">Add Comment</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="script.js"></script>
</body>
</html>